"use strict";(self.webpackChunkFE_TEST_2024_Angular=self.webpackChunkFE_TEST_2024_Angular||[]).push([[327],{3327:(G,c,s)=>{s.r(c),s.d(c,{UpsertBlogPageModule:()=>S});var l=s(6814),r=s(7483),v=s(8645),b=s(2096),g=s(8180),f=s(9274),t=s(5879),m=s(9597),T=s(1863),d=s(4221),U=s(390),n=s(95);function Z(i,h){if(1&i&&(t.TgZ(0,"b"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" Edit ",e.titlePage,"")}}function x(i,h){if(1&i&&(t.TgZ(0,"b"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" Create ",e.titlePage,"")}}let A=(()=>{class i{set item(e){e.data?.id?this.formGroup.setValue({id:e.data?.id,title:e.data.title,content:e.data.content,comments_count:e.data.comments_count,image:e.data?.image?.url}):this.formGroup=this.fb.group({id:["",[]],title:["",n.kI.required],content:["",[n.kI.required]],comments_count:[""],image:["",n.kI.required]})}constructor(e){this.fb=e,this.titlePage="Blog Detail",this.emitActionSubmit=new t.vpe,this.formGroup=this.fb.group({id:["",[]],title:["",n.kI.required],content:["",[n.kI.required]],comments_count:[""],image:["",n.kI.required]})}ngOnChanges(e){}askSave(){this.emitActionSubmit.emit({action:this.formGroup.value.id?"edit":"create",value:{id:this.formGroup.value.id||null,blog:{title:this.formGroup.value.title,content:this.formGroup.value.title,image:this.formGroup.value.image}}})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(n.qu))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-upsert-blog-tpml"]],inputs:{titlePage:"titlePage",item:"item"},outputs:{emitActionSubmit:"emitActionSubmit"},features:[t.TTD],decls:23,vars:4,consts:[[1,"header"],[1,"table-title"],[1,"row"],[4,"ngIf"],[3,"formGroup","submit"],[1,"form-group"],["for","exampleInputTitle"],["type","text","id","exampleInputTitle","formControlName","title","aria-describedby","title",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],["for","exampleInputContent"],["formControlName","content","id","exampleInputContent",1,"form-control"],["for","exampleInputURLImage"],["type","text","id","exampleInputURLImage","formControlName","image",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t.YNc(4,Z,2,1,"b",3),t.YNc(5,x,2,1,"b",3),t.qZA()()()(),t.TgZ(6,"form",4),t.NdJ("submit",function(){return a.askSave()}),t.TgZ(7,"div",5)(8,"label",6),t._uU(9,"Title"),t.qZA(),t._UZ(10,"input",7),t.TgZ(11,"small",8),t._uU(12,"Title of blog"),t.qZA()(),t.TgZ(13,"div",5)(14,"label",9),t._uU(15,"Content"),t.qZA(),t._UZ(16,"textarea",10),t.qZA(),t.TgZ(17,"div",5)(18,"label",11),t._uU(19,"URl Image"),t.qZA(),t._UZ(20,"input",12),t.qZA(),t.TgZ(21,"button",13),t._uU(22," Submit "),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("ngIf",a.formGroup.value.id),t.xp6(1),t.Q6J("ngIf",!a.formGroup.value.id),t.xp6(1),t.Q6J("formGroup",a.formGroup),t.xp6(15),t.Q6J("disabled",!a.formGroup.valid))},dependencies:[l.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return i})();function I(i,h){if(1&i&&(t.TgZ(0,"app-loading"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.isLoading)}}let B=(()=>{class i{constructor(e,o,a,u,p){this.route=e,this.service=o,this.store=a,this.router=u,this.actionListener$=p,this.notifier=new v.x,this.isLoading=!0}ngOnDestroy(){this.item=(0,b.of)(null),this.notifier.unsubscribe()}ngOnInit(){this.route.paramMap.subscribe(e=>{e?.params?.id?(this.service.fetchBlogDetailData(e?.params?.id),this.isLoading=!1):(this.service.clearStore(),this.isLoading=!1)}),this.item=this.service.getBlogDetailData(),this.actionListener$.pipe((0,r.l4)(f.hu),(0,g.q)(1)).subscribe(()=>{setTimeout(()=>{this.isLoading=!1,this.router.navigate(["blogs"])},500)}),this.actionListener$.pipe((0,r.l4)(f.fo),(0,g.q)(1)).subscribe(()=>{setTimeout(()=>{this.isLoading=!1},500)})}upsertBlog(e){const{value:a}=e;this.isLoading=!0,this.service.upsertBlog(a)}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(m.gz),t.Y36(T.G),t.Y36(d.yh),t.Y36(m.F0),t.Y36(d.UO))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-upsert-blog-page"]],decls:3,vars:4,consts:[[4,"ngIf"],[3,"item","emitActionSubmit"]],template:function(o,a){1&o&&(t.YNc(0,I,2,1,"app-loading",0),t.TgZ(1,"app-upsert-blog-tpml",1),t.NdJ("emitActionSubmit",function(p){return a.upsertBlog(p)}),t.ALo(2,"async"),t.qZA()),2&o&&(t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("item",t.lcZ(2,2,a.item)))},dependencies:[U.N,l.O5,A,l.Ov]})}return i})(),C=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.ez,n.UX]})}return i})();var y=s(8734);let S=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[y.I,l.ez,r.sQ,C,m.Bz.forChild([{path:"",component:B}])]})}return i})()}}]);